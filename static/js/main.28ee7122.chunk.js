(this["webpackJsonpteaching-aid"]=this["webpackJsonpteaching-aid"]||[]).push([[0],{30:function(e){e.exports=JSON.parse('[{"position":[3560,1400],"text":"Distributiecentrum (DC)","target":"warehouse"},{"position":[4700,1800],"text":"Productie","target":"warehouse"},{"position":[600,1700],"text":"Goederenstroom","target":"warehouse"}]')},35:function(e){e.exports=JSON.parse('{"alpha":{"start":0.25,"end":0},"scale":{"start":0.04,"end":3.59,"minimumScaleMultiplier":1},"color":{"start":"#85888d","end":"#100f0c"},"speed":{"start":100,"end":200,"minimumSpeedMultiplier":1},"acceleration":{"x":-40,"y":-100},"maxSpeed":200,"startRotation":{"min":265,"max":270},"noRotation":false,"rotationSpeed":{"min":8,"max":0},"lifetime":{"min":0.5,"max":4.05},"blendMode":"normal","frequency":0.0005,"emitterLifetime":-1,"maxParticles":300,"pos":{"x":0,"y":0},"addAtBack":true,"spawnType":"point"}')},37:function(e,t,n){e.exports=n(55)},42:function(e,t,n){},43:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var i=n(6),a=n.n(i),r=n(29),o=n.n(r),c=(n(42),n(21)),s=(n(43),n(30)),l=n(4),u=n(19),d=n(12),m=n(32),f=a.a.forwardRef((function(e,t){var n=Object(d.useApp)();if(n){var i="url('".concat("/teaching-aid","/img/cursors/dwarven_gauntlet_extra_6.png'), auto");n.renderer.plugins.interaction.cursorStyles.pointer=i}return a.a.createElement(p,Object.assign({app:n},e,{ref:t}))})),p=Object(d.PixiComponent)("Viewport",{create:function(e){var t=new m.a({screenWidth:e.screenWidth,screenHeight:e.screenHeight,worldWidth:e.worldWidth,worldHeight:e.worldHeight,ticker:e.app.ticker,interaction:e.app.renderer.plugins.interaction}),n=e.minScale,i=void 0===n?.25:n,a=e.maxScale,r=void 0===a?1:a;return t.drag().pinch().wheel().clamp({direction:"x"}).clampZoom({minScale:i,maxScale:r}).decelerate(),t}}),h=f,w=n(57),g=a.a.forwardRef((function(e,t){var n=Object(i.useRef)(null),r=e.text,o=Object(i.useMemo)((function(){return new l.TextStyle({align:"center",lineHeight:50,wordWrap:!0,wordWrapWidth:440,fontFamily:'"Source Sans Pro", Helvetica, sans-serif',fontSize:40,textBaseline:"alphabetic",fontWeight:"400"})}),[]),c=Object(i.useMemo)((function(){var e=l.TextMetrics.measureText(r,o);return Math.min(e.height+60,210)}),[r,o]);return Object(i.useEffect)((function(){var e=n.current,t=new l.Graphics;t.beginFill(12245589),t.drawRect(-220,0,440,c-60),t.endFill(),e.mask=t,e.addChild(t)}),[c,n]),a.a.createElement(d.Container,Object.assign({interactive:!0,anchor:[.5,1],ref:t},e),a.a.createElement(d.Graphics,{draw:function(e){e.lineStyle(4,0),e.beginFill(16777215),e.drawRoundedRect(-250,0,500,-c,10),e.endFill()}},a.a.createElement(d.Text,{ref:n,text:r,anchor:[.5,0],y:30-c,style:o})))}));w.a.registerPIXI(l),u.a.registerPlugin(w.a);var v,b=function(e){var t=e.content,n=e.image,r=e.children,o=e.worldWidth,c=e.worldHeight,s=e.canvasWidth,m=e.canvasHeight,f=e.blur,p=void 0!==f&&f,w=Object(i.useRef)(null),v=Object(i.useRef)(null);Object(i.useEffect)((function(){if(w.current){var e=w.current;e.moveCenter(o/2,c/2),e.scale=new l.Point(.5,.5)}}),[s,m,o,c]),Object(i.useEffect)((function(){p?u.a.to(w.current,{duration:.5,pixi:{blur:20}}):u.a.to(w.current,{duration:.5,pixi:{blur:0}})}),[p]);var b=function(t,n){var i=new l.Point(t.position[0],t.position[1]);return a.a.createElement(g,{text:t.text,position:i,pointertap:function(){return function(t){e.labelClick(t,w.current,v.current)}(t)},interactive:!0})};return a.a.createElement(d.Stage,{width:s,height:m,options:{transparent:!0}},a.a.createElement(h,{screenWidth:s,screenHeight:m,worldWidth:o,worldHeight:c,ref:w},a.a.createElement(d.Sprite,{image:"".concat("/teaching-aid","/").concat(n),ref:v},r,t.map((function(e,t){return b(e)})))))},x=n(36),O=n(33),j=Object(d.PixiComponent)("ParticleEmitter",{create:function(){return new l.ParticleContainer},applyProps:function(e,t,n){var i=n.image,a=n.config,r=Object(x.a)(n,["image","config"]);Object(d.applyDefaultProps)(e,t,r);var o=this._emitter;if(!o){o=new O.a(e,[l.Texture.from(i)],a);var c=performance.now();o.emit=!0,function e(){o.raf=requestAnimationFrame(e);var t=performance.now();o.update(3e-4*(t-c)),c=t}()}this._emitter=o},willUnmount:function(){this._emitter&&(this._emitter.emit=!1,cancelAnimationFrame(this._emitter.raf))}}),S=n(34),E=n(35),W=function(e){var t=e.content,n=e.canvasWidth,i=e.canvasHeight;return a.a.createElement(b,{content:t,image:"images/map/landscape.png",worldWidth:6528,worldHeight:2202,canvasWidth:n,canvasHeight:i,labelClick:function(t,a,r){var o=new S.a(.05,[n/2,i/2],300);r.filters=[o],u.a.to(o,{duration:.8,strength:.2});var c=new l.Point(t.position[0],t.position[1]-30);u.a.to(a,{duration:.8,onUpdate:function(){a.moveCenter(c)},pixi:{scale:1},onComplete:function(){e.labelClicked(t)}})}},a.a.createElement(j,{name:"smoke",x:2491,y:793,image:"".concat("/teaching-aid","/images/map/smoke.png"),config:E}))};!function(e){e[e.overview=0]="overview",e[e.warehouse=1]="warehouse"}(v||(v={}));var H=function(){var e=Object(i.useState)(!0),t=Object(c.a)(e,2),n=(t[0],t[1],Object(i.useState)(v.overview)),r=Object(c.a)(n,2),o=r[0],l=r[1],u=Object(i.useState)(1200),d=Object(c.a)(u,2),m=d[0],f=d[1],p=Object(i.useState)(600),h=Object(c.a)(p,2),w=h[0],g=h[1];return Object(i.useEffect)((function(){var e=function(){var e=Math.min(window.innerWidth,window.outerWidth),t=Math.min(window.innerHeight,window.outerHeight);f(e),g(t)};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),a.a.createElement(a.a.Fragment,null,o===v.overview&&a.a.createElement(W,{content:s,labelClicked:function(e){l(v.warehouse)},canvasWidth:m,canvasHeight:w}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.28ee7122.chunk.js.map